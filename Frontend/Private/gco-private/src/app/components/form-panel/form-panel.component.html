<p class="heading-main">Define judge panels for {{apparatusName}}</p>
<mat-stepper [linear]="true" #stepper>
    <mat-step label="Assign judges to D panel">
        <p class="heading-hier-1">D panel</p>
        <div class="table-wrap">
            <button
                id ="assign-button"
                mat-raised-button
                color="primary"
                [disabled]="availableTable.selectedRow === null"
                (click)="assignDJudge()"
            >Assign</button>
            <table mat-table [dataSource]="availableTable.dataSource" class="mat-elevation-z8 tablee">
                <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef>Full name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.fullName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef>Email</th>
                    <td mat-cell *matCellDef="let judge">{{judge.email}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceType">
                    <th mat-header-cell *matHeaderCellDef>Licence type</th>
                    <td mat-cell *matCellDef="let judge">{{getLicenceTypeName(judge.licenceType)}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceName">
                    <th mat-header-cell *matHeaderCellDef>Licence name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.licenceName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="sportsOrg">
                    <th mat-header-cell *matHeaderCellDef>Sports organisation</th>
                    <td mat-cell *matCellDef="let judge">{{judge.sportsOrganization.name}}</td>
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="availableTable.displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: availableTable.displayedColumns;" (click)="selectRow(row)" [class.selected-row]="row === availableTable.selectedRow"></tr>
            </table>
        </div>
        <p class="heading-hier-1">Assigned judges</p>

        <div class="table-wrap">
            <table mat-table [dataSource]="assignedDTable.dataSource" class="mat-elevation-z8 tablee">
                <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef>Full name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.fullName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef>Email</th>
                    <td mat-cell *matCellDef="let judge">{{judge.email}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceType">
                    <th mat-header-cell *matHeaderCellDef>Licence type</th>
                    <td mat-cell *matCellDef="let judge">{{getLicenceTypeName(judge.licenceType)}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceName">
                    <th mat-header-cell *matHeaderCellDef>Licence name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.licenceName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="sportsOrg">
                    <th mat-header-cell *matHeaderCellDef>Sports organisation</th>
                    <td mat-cell *matCellDef="let judge">{{judge.sportsOrganization.name}}</td>
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="assignedDTable.displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: assignedDTable.displayedColumns;"></tr>
            </table>
        </div>
        <div class="button-wrap">
            <button
            matStepperNext
            mat-raised-button
            color="primary"
            class="form-item"
            [disabled]="assignedDJudges.length === 0"
            (click)="assignDScoreCalculationMethod()"
            >Next</button>
        </div>

    </mat-step>
    <mat-step label="Assign judges to E panel">
        <p class="heading-hier-1">E panel</p>
        <form [formGroup]="deductionForm" class="custom-form">
            <mat-form-field appearance="fill" class="form-item">
                <mat-label>Number od deducted E scores</mat-label>
                <input type="number" matInput placeholder="deduction number" formControlName="deductionNumber">
            </mat-form-field>
        </form>
        <div class="table-wrap">
            <button
                id ="assign-button"
                mat-raised-button
                color="primary"
                [disabled]="availableTable.selectedRow === null"
                (click)="assignEJudge()"
            >Assign</button>
            <table mat-table [dataSource]="availableTable.dataSource" class="mat-elevation-z8 tablee">
                <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef>Full name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.fullName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef>Email</th>
                    <td mat-cell *matCellDef="let judge">{{judge.email}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceType">
                    <th mat-header-cell *matHeaderCellDef>Licence type</th>
                    <td mat-cell *matCellDef="let judge">{{getLicenceTypeName(judge.licenceType)}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceName">
                    <th mat-header-cell *matHeaderCellDef>Licence name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.licenceName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="sportsOrg">
                    <th mat-header-cell *matHeaderCellDef>Sports organisation</th>
                    <td mat-cell *matCellDef="let judge">{{judge.sportsOrganization.name}}</td>
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="availableTable.displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: availableTable.displayedColumns;" (click)="selectRow(row)" [class.selected-row]="row === availableTable.selectedRow"></tr>
            </table>
        </div>

        <p class="heading-hier-1">Assigned judges</p>
        <div class="table-wrap">
            <table mat-table [dataSource]="assignedETable.dataSource" class="mat-elevation-z8 tablee">
                <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef>Full name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.fullName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef>Email</th>
                    <td mat-cell *matCellDef="let judge">{{judge.email}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceType">
                    <th mat-header-cell *matHeaderCellDef>Licence type</th>
                    <td mat-cell *matCellDef="let judge">{{getLicenceTypeName(judge.licenceType)}}</td>
                </ng-container>
        
                <ng-container matColumnDef="licenceName">
                    <th mat-header-cell *matHeaderCellDef>Licence name</th>
                    <td mat-cell *matCellDef="let judge">{{judge.licenceName}}</td>
                </ng-container>
        
                <ng-container matColumnDef="sportsOrg">
                    <th mat-header-cell *matHeaderCellDef>Sports organisation</th>
                    <td mat-cell *matCellDef="let judge">{{judge.sportsOrganization.name}}</td>
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="assignedETable.displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: assignedETable.displayedColumns;"></tr>
            </table>
        </div>
        <div class="button-wrap">
            <button
            mat-raised-button
            color="primary"
            class="form-item"
            [disabled]="assignedEJudges.length === 0 || deductionForm.invalid"
            (click)="assignEScoreCalculationMethod()"
            >Finish</button>
        </div>
    </mat-step>
  </mat-stepper>